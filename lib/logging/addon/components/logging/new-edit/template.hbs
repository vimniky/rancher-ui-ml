{{log fields}}
<section class="header clearfix">
  <h1 class="pull-left text-capitalize">{{pageScope}} Logging</h1>
</section>

<div class="banner bg-info">
  <div class="banner-icon p-20"><i class="icon icon-info"></i></div>
  <div class="banner-message p-20">
    We will collect the standard output and standard error for each container, the log files which under path<code> /var/log/containers/ </code>on each host. The log will be shipped to the target you choose below.
  </div>
</div>
{{logging/targets-nav
    currentLogging=currentLogging
    targetType=targetType
    isClusterLevel=isClusterLevel
    pageScope=pageScope
}}

{{#if (eq targetType 'embedded')}}
  <div class="banner bg-warning">
    <div class="banner-icon p-20"><i class="icon icon-alert"></i></div>
    <div class="banner-message p-20">
      Embedded log is experimental, no persistent storage will be provided.
    </div>
  </div>
  <div class="box">
    <h3>Cluster requirements:</h3>
    <ul>
      <li>The embedded deployment includes ElasticSearch and Kibana which requests at least 2 CPU and 4G MEM available on the node.</li>
    </ul>
  </div>
{{/if}}

{{#if (eq targetType 'elasticsearch')}}

  {{#logging/target-elasticsearch model=model fields=fields}}
    {{logging/form-additional flushInterval=flushInterval fields=fields}}
  {{/logging/target-elasticsearch}}

{{else if (eq targetType 'embedded')}}
  {{#if isClusterLevel}}
    {{#logging/target-elasticsearch embbeded=true model=model fields=fields}}
      {{logging/form-additional flushInterval=flushInterval fields=fields}}
    {{/logging/target-elasticsearch}}
  {{/if}}
{{else if (eq targetType 'splunk')}}
  {{logging/target-splunk model=model}}
{{else if (eq targetType 'kafka')}}
  {{logging/target-kafka model=model}}
{{else if (eq targetType 'syslog')}}
  {{logging/target-syslog model=model}}
{{/if}}


{{top-errors errors=errors}}
{{save-cancel cancelDisabled=true editing=true save="save"}}
